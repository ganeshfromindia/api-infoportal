(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{51:function(e,a,t){e.exports=t(94)},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},94:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(7),o=t.n(r),c=(t(56),t(19)),i=t(22);t(57);var s=e=>l.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children);const u=e=>({type:"MINLENGTH",val:e}),m=(e,a)=>{let t=!0;for(const n of a)"REQUIRE"===n.type&&(t=t&&e.trim().length>0),"MINLENGTH"===n.type&&(t=t&&e.trim().length>=n.val),"MAXLENGTH"===n.type&&(t=t&&e.trim().length<=n.val),"MIN"===n.type&&(t=t&&+e>=n.val),"MAX"===n.type&&(t=t&&+e<=n.val),"EMAIL"===n.type&&(t=t&&/^\S+@\S+\.\S+$/.test(e));return t};t(58);const d=(e,a)=>{switch(a.type){case"CHANGE":return{...e,value:a.val,isValid:m(a.val,a.validators)};case"TOUCH":return{...e,isTouched:!0};default:return e}};var p=e=>{const[a,t]=Object(n.useReducer)(d,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),{id:r,onInput:o}=e,{value:c,isValid:i}=a;Object(n.useEffect)(()=>{o(r,c,i)},[r,c,i,o]),Object(n.useEffect)(()=>{e.initialValue&&o(e.id,e.initialValue,!0)},[e.id,e.initialValue,o]);const s=a=>{t({type:"CHANGE",val:a.target.value,validators:e.validators})},u=()=>{t({type:"TOUCH"})},m="input"===e.element?l.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:s,onBlur:u,value:a.value}):l.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:s,onBlur:u,value:a.value});return l.a.createElement("div",{className:"form-control ".concat(!a.isValid&&a.isTouched&&"form-control--invalid")},l.a.createElement("label",{htmlFor:e.id},e.label),m,!a.isValid&&a.isTouched&&l.a.createElement("p",null,e.errorText))};t(59);var b=e=>e.href?l.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?l.a.createElement(i.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):l.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"," ").concat(e.normal," ").concat(e.buttonfont," ").concat(e.maxwidth),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children),E=t(95);t(64);var h=e=>o.a.createPortal(l.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"));t(65);const v=e=>{const a=l.a.createElement("div",{className:"modal modal-container ".concat(e.className),style:e.style},l.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},l.a.createElement("h2",null,e.header)),l.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),l.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer));return o.a.createPortal(a,document.getElementById("modal-hook"))};var g=e=>l.a.createElement(l.a.Fragment,null,e.show&&l.a.createElement(h,{onClick:e.onCancel}),l.a.createElement(E.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},l.a.createElement(v,e)));var f=e=>l.a.createElement(g,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:l.a.createElement(b,{onClick:e.onClear},"Okay")},l.a.createElement("p",null,e.error));t(66);var w=e=>l.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},l.a.createElement("div",{className:"lds-dual-ring"}));t(67);var O=e=>{const[a,t]=Object(n.useState)(),[r,o]=Object(n.useState)(),[c,i]=Object(n.useState)(!1),s=Object(n.useRef)();Object(n.useEffect)(()=>{if(!a)return;const e=new FileReader;e.onload=()=>{o(e.result)},e.readAsDataURL(a)},[a]);return l.a.createElement("div",{className:"form-control"},l.a.createElement("input",{id:e.id,ref:s,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg,.pdf",onChange:a=>{let n,l=c;a.target.files&&1===a.target.files.length?(n=a.target.files[0],t(n),i(!0),l=!0):(i(!1),l=!1),e.onInput(e.id,n,l)}}),l.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},l.a.createElement("div",{className:"image-upload__preview"},r&&l.a.createElement("img",{src:r,alt:"Preview"}),!r&&l.a.createElement("p",null,"Please pick an file.")),l.a.createElement(b,{type:"button",normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont",onClick:()=>{s.current.click()}},"Pick File")),!c&&null==e.data&&l.a.createElement("p",null,e.errorText))};const N=(e,a)=>{switch(a.type){case"INPUT_CHANGE":let t=!0;for(const n in e.inputs)e.inputs[n]&&(t=n===a.inputId?t&&a.isValid:t&&e.inputs[n].isValid);return{...e,inputs:{...e.inputs,[a.inputId]:{value:a.value,isValid:a.isValid}},isValid:t};case"SET_DATA":return{inputs:a.inputs,isValid:a.formIsValid};default:return e}},S=(e,a)=>{const[t,l]=Object(n.useReducer)(N,{inputs:e,isValid:a});return[t,Object(n.useCallback)((e,a,t)=>{l({type:"INPUT_CHANGE",value:a,isValid:t,inputId:e})},[]),Object(n.useCallback)((e,a)=>{l({type:"SET_DATA",inputs:e,formIsValid:a})},[])]},C=()=>{const[e,a]=Object(n.useState)(!1),[t,l]=Object(n.useState)(),r=Object(n.useRef)([]),o=Object(n.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(!0);const c=new AbortController;r.current.push(c);try{const l=await fetch(e,{method:t,body:n,headers:o,signal:c.signal});let i;if(i=e.includes("download")?l.blob():await l.json(),r.current=r.current.filter(e=>e!==c),!l.ok)throw new Error(i.message);return a(!1),i}catch(i){throw l(i.message),a(!1),i}}),[]);return Object(n.useEffect)(()=>()=>{r.current.forEach(e=>e.abort())},[]),{isLoading:e,error:t,sendRequest:o,clearError:()=>{l(null)}}},y=Object(n.createContext)({isLoggedIn:!1,userId:null,userName:null,token:null,login:()=>{},logout:()=>{}});t(68);let k;const I=()=>{const[e,a]=Object(n.useState)(!1),[t,l]=Object(n.useState)(),[r,o]=Object(n.useState)(!1),[c,i]=Object(n.useState)(!1),s=Object(n.useCallback)((e,t,n,r)=>{a(t),o(e),i(n);const c=r||new Date((new Date).getTime()+36e5);l(c),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,userName:n,expiration:c.toISOString()}))},[]),u=Object(n.useCallback)(()=>{a(null),l(null),o(null),i(null),localStorage.removeItem("userData")},[]);return Object(n.useEffect)(()=>{if(e&&t){const e=t.getTime()-(new Date).getTime();k=setTimeout(u,e)}else clearTimeout(k)},[e,u,t]),Object(n.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&s(e.userId,e.token,e.userName,new Date(e.expiration))},[s]),{token:e,login:s,logout:u,userId:r,userName:c}};var x=()=>{const e=Object(n.useContext)(y),[a,t]=Object(n.useState)(!0),{isLoading:r,error:o,sendRequest:c,clearError:i}=C(),[m,d,E]=S({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,{error:o,onClear:i}),l.a.createElement(s,{className:"authentication"},r&&l.a.createElement(w,{asOverlay:!0}),l.a.createElement("h2",null,"Login Required"),l.a.createElement("hr",null),l.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),a)try{const a=await c("http://localhost:5000/api/users/login","POST",JSON.stringify({email:m.inputs.email.value,password:m.inputs.password.value}),{"Content-Type":"application/json"});e.login(a.userId,a.token,a.name),I.login(a.userId,a.token,a.name)}catch(n){}else try{const a=new FormData;a.append("folder",m.inputs.name.value+"/Users/"+m.inputs.name.value),a.append("email",m.inputs.email.value),a.append("name",m.inputs.name.value),a.append("password",m.inputs.password.value),a.append("image",m.inputs.image.value);const t=await c("http://localhost:5000/api/users/signup","POST",a);e.login(t.userId,t.token,t.name),I.login(t.userId,t.token,t.name)}catch(n){}}},!a&&l.a.createElement(p,{element:"input",id:"name",type:"text",label:"Your Name",validators:[{type:"REQUIRE"}],errorText:"Please enter a name.",onInput:d}),!a&&l.a.createElement(O,{center:!0,id:"image",onInput:d,errorText:"Please provide an image."}),l.a.createElement(p,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[{type:"EMAIL"}],errorText:"Please enter a valid email address.",onInput:d}),l.a.createElement(p,{element:"input",id:"password",type:"password",label:"Password",validators:[u(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:d}),l.a.createElement(b,{type:"submit",disabled:!m.isValid},a?"LOGIN":"SIGNUP")),l.a.createElement(b,{inverse:!0,onClick:()=>{a?E({...m.inputs,name:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1):E({...m.inputs,name:void 0,image:void 0},m.inputs.email.isValid&&m.inputs.password.isValid),t(e=>!e)}},"SWITCH TO ",a?"SIGNUP":"LOGIN")))};t(69);var P=e=>l.a.createElement("header",{className:"main-header"},e.children);t(70);var j=e=>{const a=Object(n.useContext)(y);return l.a.createElement("ul",{className:"nav-links"},a.isLoggedIn&&l.a.createElement("li",null,l.a.createElement(i.c,{to:"/products"},l.a.createElement("button",{type:"button",className:"button button--default button--inverse"},"Products"))),a.isLoggedIn&&l.a.createElement("li",null,l.a.createElement(i.c,{to:"/traders"},l.a.createElement("button",{type:"button",className:"button button--default button--inverse"},"Traders"))),a.isLoggedIn&&l.a.createElement("li",null,l.a.createElement("button",{onClick:a.logout,className:"button button--default button--inverse"},"Logout")))};t(71);var T=e=>{const a=l.a.createElement(E.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("aside",{className:"side-drawer",onClick:e.onClick},e.children));return o.a.createPortal(a,document.getElementById("drawer-hook"))};t(72);var D=e=>{const[a,t]=Object(n.useState)(!1),r=()=>{t(!1)};return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(h,{onClick:r}),l.a.createElement(T,{show:a,onClick:r},l.a.createElement("nav",{className:"main-navigation__drawer-nav"},l.a.createElement(j,null))),l.a.createElement(P,null,l.a.createElement("button",{className:"main-navigation__menu-btn",onClick:()=>{t(!0)}},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),l.a.createElement("h1",{className:"main-navigation__title"}),l.a.createElement("nav",{className:"main-navigation__header-nav"},l.a.createElement(j,null))))},V=t(46),R=t.n(V),J=(t(75),t(76),t(37)),A=t(48);var L=e=>{let{productdata:a,handleClose:t}=e;const{isLoading:r,error:o,sendRequest:c,clearError:i}=C(),s=Object(n.useContext)(y),[m,d]=Object(n.useState)([]),[E,h]=Object(n.useState)([]),[v,g]=S({title:{value:"",isValid:!1},description:{value:"",isValid:!1},price:{value:"",isValid:!1},image:{value:null,isValid:!0},coa:{value:null,isValid:!0},msds:{value:null,isValid:!0},cep:{value:null,isValid:!0},qos:{value:null,isValid:!0},dmf:{value:null,isValid:!0},impurities:{value:null,isValid:!0},refStandards:{value:null,isValid:!0},pharmacopoeias:{value:null,isValid:!0}}),N=Object(A.a)(),k=Object(n.useCallback)(e=>{const a=new FileReader;let t=localStorage.getItem("userData"),n=e.target.value;c("http://localhost:5000/api/download?file=".concat(n),"GET",null,{headers:{Authorization:"Bearer "+JSON.parse(t).token,responseType:"blob"}}).then(e=>{a.readAsDataURL(new Blob([e]))}).catch(e=>console.log(e));let l=n.split("/").pop();a.addEventListener("loadend",()=>{const e=a.result,t=document.createElement("a");t.href=e,t.setAttribute("download",l),document.body.appendChild(t),t.click()})},[c]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,{error:o,onClear:i}),l.a.createElement("form",{className:"place-form",onSubmit:async e=>{e.preventDefault();try{const e=new FormData;e.append("folder",s.userName+"/Products/"+v.inputs.title.value),e.append("title",v.inputs.title.value),e.append("description",v.inputs.description.value),e.append("price",v.inputs.price.value),e.append("image",v.inputs.image.value),e.append("coa",v.inputs.coa.value),e.append("msds",v.inputs.msds.value),e.append("cep",v.inputs.cep.value),e.append("qos",v.inputs.qos.value),e.append("dmf",JSON.stringify(E)),e.append("impurities",v.inputs.impurities.value),e.append("refStandards",v.inputs.refStandards.value),e.append("pharmacopoeias",JSON.stringify(m)),await c("http://localhost:5000/api/products/create","POST",e,{Authorization:"Bearer "+s.token}),t().click()}catch(a){}}},r&&l.a.createElement(w,{asOverlay:!0}),l.a.createElement(p,{id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:g,initialValue:a.title}),l.a.createElement(p,{id:"description",element:"textarea",label:"Description",validators:[u(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:g,initialValue:a.description}),l.a.createElement(p,{id:"price",element:"input",label:"price",validators:[{type:"REQUIRE"}],errorText:"Please enter a price.",onInput:g,initialValue:a.price}),l.a.createElement(O,{id:"image",onInput:g,errorText:"Please provide an product image.",data:a&&a.image||null}),a.image?l.a.createElement("button",{type:"button",value:a.image,onClick:e=>k(e)},"Download Product Image"):null,l.a.createElement(O,{id:"coa",onInput:g,errorText:"Please provide sample COA.",data:a&&a.coa||null}),a.coa?l.a.createElement("button",{type:"button",value:a.coa,onClick:e=>k(e)},"Download COA"):null,l.a.createElement(O,{id:"msds",onInput:g,errorText:"Please provide an MSDS.",data:a&&a.msds||null}),a.msds?l.a.createElement("button",{type:"button",value:a.msds,onClick:e=>k(e)},"Download MSDS"):null,l.a.createElement(O,{id:"cep",onInput:g,errorText:"Please provide a Certificate of Suitability.",data:a&&a.cep||null}),a.cep?l.a.createElement("button",{type:"button",value:a.cep,onClick:e=>k(e)},"Download Certificate of Suitability"):null,l.a.createElement(O,{id:"qos",onInput:g,errorText:"Please provide an Quality Overall Summary.",data:a&&a.qos||null}),a.qos?l.a.createElement("button",{type:"button",value:a.qos,onClick:e=>k(e)},"Download Quality Overall Summary"):null,l.a.createElement(p,{id:"impurities",element:"textarea",label:"Impurities",validators:[u(5)],errorText:"Please enter Impurities separated by comma.",onInput:g,initialValue:a.impurities}),l.a.createElement(p,{id:"refStandards",element:"textarea",label:"Reference Standards",validators:[u(5)],errorText:"Please enter Reference Standards separated by comma.",onInput:g,initialValue:a.refStandards}),l.a.createElement(J.a,{defaultValue:a&&a.pharmacopoeias&&a.pharmacopoeias.length>0&&[...JSON.parse(a.dmf)],closeMenuOnSelect:!1,components:N,isMulti:!0,options:[{value:"USDMF",label:"US DMF"},{value:"BRAZILDMF",label:"Brazilian DMF"},{value:"KOREADMF",label:"Korean DMF"},{value:"EUDMF",label:"European DMF"},{value:"RUSSIANDMF",label:"Russian DMF"}],placeholder:"Select DMF",onChange:e=>{h(e)}}),l.a.createElement("div",{className:"height25"}),l.a.createElement(J.a,{defaultValue:a&&a.pharmacopoeias&&a.pharmacopoeias.length>0&&[...JSON.parse(a.pharmacopoeias)],closeMenuOnSelect:!1,components:N,isMulti:!0,options:[{value:"IP",label:"Indian Pharmacopoeia",selectedLabel:"IP"},{value:"BP",label:"British Pharmacopoeia",selectedLabel:"BP"},{value:"USP",label:"US Pharmacopoeia",selectedLabel:"USP"},{value:"JP",label:"Japanese Pharmacopoeia",selectedLabel:"JP"},{value:"EP",label:"European Pharmacopoeia",selectedLabel:"EP"},{value:"InHouse",label:"In House",selectedLabel:"In House"}],placeholder:"Select Pharmacopoeia",onChange:e=>{d(e)},formatOptionLabel:(e,a)=>{let{context:t}=a;return"value"===t?e.selectedLabel:e.label}}),l.a.createElement("div",{className:"height25"}),l.a.createElement(b,{type:"submit",normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont",disabled:!v.isValid},"ADD PRODUCT")))};var _=e=>{const{sendRequest:a}=C(),t=Object(n.useCallback)(e=>{const t=new FileReader;let n=localStorage.getItem("userData"),l=e.target.id;a("http://localhost:5000/api/download?file=".concat(l),"GET",null,{headers:{Authorization:"Bearer "+JSON.parse(n).token,responseType:"blob"}}).then(e=>{t.readAsDataURL(new Blob([e]))}).catch(e=>console.log(e));let r=l.split("/").pop();t.addEventListener("loadend",()=>{const e=t.result,a=document.createElement("a");a.href=e,a.setAttribute("download",r),document.body.appendChild(a),a.click()})},[a]),r=Object(n.useRef)(!1),o=Object(n.useMemo)(()=>[{name:"SN",selector:e=>e.serialNo,width:"60px"},{cell:e=>l.a.createElement("button",{onClick:I,value:JSON.stringify(e)},"Edit"),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px",name:"Action"},{cell:e=>l.a.createElement("button",{onClick:x,value:JSON.stringify(e)},"Delete"),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px",name:"Action"},{name:"Product",selector:e=>e.title,sortable:!0,right:!0,width:"200px"},{name:"Description",selector:e=>e.description,sortable:!0,right:!0,width:"200px"},{name:"Price",selector:e=>e.price,sortable:!0,right:!0,width:"100px"},{name:"COA",cell:e=>e.coa?l.a.createElement("button",{onClick:t,value:JSON.stringify(e),id:e.coa}," Download "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"MSDS",cell:e=>e.msds?l.a.createElement("button",{onClick:t,value:JSON.stringify(e),id:e.msds}," Download "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"CEP",cell:e=>e.cep?l.a.createElement("button",{onClick:t,value:JSON.stringify(e),id:e.cep}," Download "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"QOS",cell:e=>e.qos?l.a.createElement("button",{onClick:t,value:JSON.stringify(e),id:e.qos}," Download "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"DMF",cell:e=>{if(JSON.parse(JSON.stringify(e.dmf).length>0)){let a=JSON.parse(e.dmf).map(e=>e.label);return a=a.map((e,a)=>l.a.createElement("div",{key:a},e)),a=l.a.createElement("div",{className:"list-dmf-container scroller"},a),a}return"No"},ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"IP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("IP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," \u2714 "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," \u274c "),width:"15px"},{name:"BP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("BP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," \u2714 "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," \u274c "),width:"15px"},{name:"EP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("EP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," \u2714 "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," \u274c "),width:"15px"},{name:"JP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("JP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," \u2714 "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," \u274c "),width:"15px"},{name:"USP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("USP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," \u2714 "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," \u274c "),width:"15px"},{name:"In House",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("InHouse")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," \u2714 "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," \u274c "),width:"15px"}],[t]),c=Object(n.useContext)(y),[i,u]=Object(n.useState)(!1),[m,d]=Object(n.useState)([]),[p,E]=Object(n.useState)(),[h,v]=Object(n.useState)(!1),[f,w]=Object(n.useState)(0),[O,N]=Object(n.useState)(10),[S,k]=Object(n.useState)([]);Object(n.useEffect)(()=>{},[S]);const I=e=>{u(!0),E(JSON.parse(e.target.value))},x=e=>{},P=Object(n.useCallback)(e=>{k(e.selectedRows)},[]),j=Object(n.useCallback)(async e=>{v(!0);try{const t=await a("http://localhost:5000/api/products/manufacturer/id?uid=".concat(c.userId,"&page=").concat(e,"&size=").concat(O,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});d(t.products),w(t.total),v(!1)}catch(t){console.log(t)}},[O,a,c]);Object(n.useEffect)(()=>{r.current||j(1),r.current=!0},[j]),Object(n.useEffect)(()=>{i||j(1)},[i,j]);const T=(e,a)=>{a.preventDefault(),E(e),u(!0)},D=()=>{u(!1)},V=l.a.createElement("div",null,l.a.createElement("div",{className:"sub-header"},"."),l.a.createElement("div",{className:"last-column"},"Pharmacopoeias"));return 0===(null===m||void 0===m?void 0:m.length)?l.a.createElement("div",{className:"place-list center"},l.a.createElement(s,{className:"card-product"},l.a.createElement("h2",null,"No products found"),l.a.createElement(b,{type:"button",onClick:e=>T([],e),normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"Add Product"),l.a.createElement(g,{show:i,onCancel:D,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(b,{type:"button",onClick:D,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(L,{productdata:{},handleClose:D}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(s,{className:"card-product place-list center"},l.a.createElement(b,{type:"button",onClick:e=>T([],e),normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"Add Product"),l.a.createElement(g,{show:i,onCancel:D,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(b,{type:"button",onClick:D,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(L,{productdata:{},handleClose:D})))),m&&l.a.createElement(R.a,{columns:o,data:m,progressPending:h,pagination:!0,paginationServer:!0,paginationTotalRows:f,onChangeRowsPerPage:async(e,t)=>{let n=localStorage.getItem("userData"),l=JSON.parse(n).userId;v(!0);try{const r=await a("http://localhost:5000/api/products/manufacturer/id?uid=".concat(l,"&page=").concat(t,"&size=").concat(e,"&delay=1"),"GET",null,{Authorization:"Bearer "+JSON.parse(n).token});d(r.products),N(e),v(!1)}catch(r){}},onChangePage:e=>{j(e)},onSelectedRowsChange:P,subHeaderComponent:V,subHeader:!1}),",",l.a.createElement(g,{show:i,onCancel:D,header:p&&p.title,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(b,{type:"button",onClick:D,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(L,{productdata:p,handleClose:D}))))};var M=()=>{const{token:e,login:a,logout:t,userId:n,userName:r}=I();let o;return o=e?l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/",exact:!0},l.a.createElement(_,null)),l.a.createElement(c.b,{path:"/traders",exact:!0},l.a.createElement(_,null)),l.a.createElement(c.b,{path:"/products",exact:!0},l.a.createElement(_,null)),l.a.createElement(c.a,{to:"/"})):l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/",exact:!0},l.a.createElement(x,null)),l.a.createElement(c.b,{path:"/auth"},l.a.createElement(x,null)),l.a.createElement(c.a,{to:"/auth"})),l.a.createElement(y.Provider,{value:{isLoggedIn:!!e,token:e,userId:n,userName:r,login:a,logout:t}},l.a.createElement(i.a,null,l.a.createElement(D,null),l.a.createElement("main",null,o)))};o.a.render(l.a.createElement(M,null),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.d7258da7.chunk.js.map